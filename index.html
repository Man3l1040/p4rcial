<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>PacStore – Consolas Retro & Next-Gen</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Fuente pixel/arcade -->
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Nunito:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            min-height: 100vh;
            background-color: #000018;
            color: #fffbe7;
            font-family: "Nunito", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            overflow-x: hidden;
        }

        /* FONDO LABERINTO PAC-MAN */
        body::before {
            content: "";
            position: fixed;
            inset: 0;
            background-image:
                linear-gradient(#001f5e 2px, transparent 2px),
                linear-gradient(90deg, #001f5e 2px, transparent 2px);
            background-size: 80px 80px;
            opacity: 0.35;
            z-index: -2;
        }

        body::after {
            content: "";
            position: fixed;
            inset: 20px;
            border: 4px solid #0047ff;
            border-radius: 20px;
            z-index: -1;
            box-shadow:
                0 0 10px #0047ff,
                0 0 25px #0047ff inset;
        }

        /* HEADER ESTILO SCOREBOARD */
        header {
            position: sticky;
            top: 0;
            z-index: 999;
            background: rgba(0, 0, 0, 0.95);
            border-bottom: 4px solid #0047ff;
            box-shadow: 0 0 18px #0047ff;
        }

        .nav {
            max-width: 1200px;
            margin: 0 auto;
            padding: 12px 18px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 10px;
        }

        .logo {
            font-family: "Press Start 2P", system-ui;
            font-size: 0.9rem;
            color: #ffeb3b;
            text-shadow:
                0 0 6px #ffeb3b,
                0 0 12px #ffc107;
            letter-spacing: 2px;
        }

        .logo span {
            color: #00e5ff;
            text-shadow:
                0 0 6px #00e5ff,
                0 0 14px #00e5ff;
        }

        .nav-right {
            display: flex;
            align-items: center;
            gap: 18px;
        }

        .scoreboard {
            font-family: "Press Start 2P", system-ui;
            font-size: 0.6rem;
            color: #ffeb3b;
        }

        .nav-buttons {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .nav-buttons button {
            font-family: "Press Start 2P", system-ui;
            font-size: 0.5rem;
            background: #00001a;
            border: 2px solid #00e5ff;
            color: #fefefe;
            padding: 6px 10px;
            border-radius: 999px;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 0 8px rgba(0,229,255,0.8);
            transition: all 0.18s ease;
        }

        .nav-buttons button:hover {
            background: #00e5ff;
            color: #000018;
            transform: translateY(-1px);
            box-shadow: 0 0 12px #00e5ff;
        }

        main {
            max-width: 1200px;
            margin: 0 auto;
            padding: 24px 15px 40px;
        }

        section {
            margin-top: 42px;
            position: relative;
        }

        /* CAMINOS CON PUNTITOS (PELLETS) */
        .maze-line {
            position: absolute;
            width: 100%;
            height: 1px;
            top: -10px;
            left: 0;
            background-image: radial-gradient(circle, #ffeb3b 2px, transparent 2px);
            background-size: 16px 4px;
            opacity: 0.9;
        }

        h1, h2 {
            margin-bottom: 16px;
            text-transform: uppercase;
        }

        h1 {
            font-family: "Press Start 2P", system-ui;
            font-size: 1.4rem;
            line-height: 1.4;
            color: #ffeb3b;
        }

        h1 span {
            color: #00e5ff;
        }

        h2 {
            font-family: "Press Start 2P", system-ui;
            font-size: 1rem;
            color: #ffeb3b;
        }

        p {
            margin-bottom: 10px;
            line-height: 1.5;
            font-size: 0.95rem;
        }

        /* HERO */
        .hero {
            display: grid;
            grid-template-columns: minmax(0, 3fr) minmax(0, 2fr);
            gap: 20px;
            margin-top: 20px;
            align-items: center;
        }

        .hero-text p {
            max-width: 520px;
        }

        .hero-badges {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 12px 0 15px;
        }

        .badge {
            background: rgba(0, 0, 0, 0.9);
            border-radius: 999px;
            padding: 6px 12px;
            font-size: 0.7rem;
            border: 1px solid #00e5ff;
            color: #e0f2fe;
            box-shadow: 0 0 8px rgba(0,229,255,0.8);
        }

        .cta-buttons {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            margin-top: 10px;
        }

        .btn-primary, .btn-secondary {
            border-radius: 999px;
            padding: 10px 18px;
            border: none;
            cursor: pointer;
            font-family: "Press Start 2P", system-ui;
            font-size: 0.6rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.18s ease;
        }

        .btn-primary {
            background: linear-gradient(90deg,#ffeb3b,#ff9100,#ff1744);
            color: #000018;
            box-shadow:
                0 0 10px #ffeb3b,
                0 0 20px #ff9100;
        }

        .btn-primary:hover {
            transform: translateY(-1px) scale(1.01);
        }

        .btn-secondary {
            background: transparent;
            border: 2px solid #00e5ff;
            color: #e0f2fe;
        }

        .btn-secondary:hover {
            background: #00e5ff;
            color: #000018;
            box-shadow: 0 0 10px #00e5ff;
        }

        /* TARJETA HERO – MINI LABERINTO */
        .hero-card {
            background: radial-gradient(circle at top, #000033, #000010);
            border-radius: 20px;
            padding: 18px;
            border: 3px solid #0047ff;
            box-shadow: 0 0 16px #0047ff;
            position: relative;
            overflow: hidden;
        }

        .hero-card::before {
            content: "";
            position: absolute;
            inset: 12px;
            border: 2px solid #0047ff;
            border-radius: 12px;
            opacity: 0.5;
        }

        .hero-card h3 {
            margin-bottom: 5px;
            color: #ffeb3b;
            font-family: "Press Start 2P", system-ui;
            font-size: 0.7rem;
        }

        .hero-card small {
            color: #cbd5f5;
            font-size: 0.7rem;
        }

        .price-line {
            display: flex;
            align-items: baseline;
            gap: 8px;
            margin: 10px 0;
        }

        .price-old {
            text-decoration: line-through;
            color: #b0bec5;
            font-size: 0.7rem;
        }

        .price-new {
            font-weight: 700;
            color: #76ff03;
            font-size: 1rem;
        }

        .discount-tag {
            display: inline-block;
            padding: 3px 7px;
            border-radius: 999px;
            font-size: 0.65rem;
            background: rgba(118,255,3,0.1);
            color: #e6ffb3;
            border: 1px solid rgba(118,255,3,0.7);
        }

        .btn-small {
            font-family: "Press Start 2P", system-ui;
            font-size: 0.55rem;
            padding: 6px 10px;
            border-radius: 999px;
            border: none;
            cursor: pointer;
            margin-top: 8px;
            transition: all 0.18s ease;
            text-transform: uppercase;
        }

        .btn-small.primary {
            background: #ffeb3b;
            color: #000018;
            box-shadow: 0 0 10px #ffeb3b;
        }

        .btn-small.primary:hover {
            background: #fff176;
        }

        /* PAC-MAN ANIMADO EN TARJETA */
        .pacman-hero {
            position: absolute;
            bottom: 12px;
            left: 12px;
            width: 24px;
            height: 24px;
            background: #ffeb3b;
            border-radius: 50%;
            box-shadow: 0 0 8px #ffeb3b;
            animation: movePacman 5s linear infinite;
            clip-path: polygon(0% 0%, 100% 50%, 0% 100%);
        }

        @keyframes movePacman {
            0% { transform: translateX(0); }
            50% { transform: translateX(140px); }
            100% { transform: translateX(0); }
        }

        /* CARDS DE CONSOLAS */
        .grid-consolas {
            display: grid;
            grid-template-columns: repeat(auto-fit,minmax(250px,1fr));
            gap: 20px;
            margin-top: 18px;
        }

        .card {
            background: rgba(0, 0, 0, 0.9);
            border-radius: 18px;
            padding: 14px;
            border: 3px solid #0047ff;
            box-shadow: 0 0 16px rgba(0,71,255,0.9);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: "";
            position: absolute;
            inset: 10px;
            border: 2px dashed #00e5ff;
            border-radius: 10px;
            opacity: 0.45;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
            position: relative;
            z-index: 1;
        }

        .card-header h3 {
            font-size: 0.85rem;
            color: #ffeb3b;
            font-family: "Press Start 2P", system-ui;
        }

        .tag-retro, .tag-modern {
            font-size: 0.55rem;
            padding: 3px 7px;
            border-radius: 999px;
            text-transform: uppercase;
            font-family: "Press Start 2P", system-ui;
        }

        .tag-retro {
            background: #311b92;
            border: 1px solid #ff9100;
            color: #ffe0b2;
        }

        .tag-modern {
            background: #0d47a1;
            border: 1px solid #00e5ff;
            color: #e0f2fe;
        }

        .year {
            font-size: 0.7rem;
            color: #b0bec5;
            margin-top: 4px;
        }

        .console-img {
            width: 100%;
            border-radius: 10px;
            margin: 10px 0;
            border: 2px solid #ffeb3b;
            box-shadow: 0 0 12px rgba(255, 235, 59, 0.8);
            object-fit: cover;
            max-height: 170px;
            position: relative;
            z-index: 1;
        }

        .specs {
            font-size: 0.8rem;
            color: #e0f7fa;
            margin: 8px 0;
            position: relative;
            z-index: 1;
        }

        .history {
            font-size: 0.75rem;
            color: #bbdefb;
            margin-top: 6px;
            display: none;
            position: relative;
            z-index: 1;
        }

        .card-footer {
            margin-top: 8px;
            position: relative;
            z-index: 1;
        }

        .btn-small.outline {
            background: transparent;
            border: 2px solid #00e5ff;
            color: #e0f2fe;
        }

        .btn-small.outline:hover {
            background: #00e5ff;
            color: #000018;
        }

        .card-cta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 10px;
            font-size: 0.7rem;
            color: #b0bec5;
        }

        /* SECCIÓN OFERTAS */
        #ofertas {
            background: rgba(0, 0, 0, 0.9);
            border-radius: 18px;
            padding: 18px;
            border: 3px solid #ff9100;
            box-shadow: 0 0 16px rgba(255,145,0,0.9);
        }

        #ofertas form {
            display: grid;
            grid-template-columns: repeat(auto-fit,minmax(220px,1fr));
            gap: 12px;
            margin-top: 10px;
            align-items: end;
        }

        label {
            font-size: 0.8rem;
            color: #ffe082;
        }

        input, select {
            width: 100%;
            padding: 8px 10px;
            border-radius: 999px;
            border: 2px solid #00e5ff;
            background: #00001f;
            color: #ffffff;
            margin-top: 4px;
            font-size: 0.85rem;
        }

        input:focus, select:focus {
            outline: none;
            border-color: #ffeb3b;
            box-shadow: 0 0 10px #ffeb3b;
        }

        .result-box {
            margin-top: 10px;
            font-size: 0.85rem;
            color: #bbdefb;
        }

        /* CARRITO */
        #carrito {
            margin-top: 25px;
            padding: 16px;
            border-radius: 18px;
            border: 3px solid #00e5ff;
            background: rgba(0, 0, 0, 0.9);
            box-shadow: 0 0 16px rgba(0,229,255,0.9);
        }

        #carrito ul {
            margin-left: 18px;
            margin-top: 6px;
            font-size: 0.9rem;
        }

        footer {
            margin-top: 40px;
            text-align: center;
            font-size: 0.7rem;
            color: #b0bec5;
            padding-top: 16px;
            border-top: 1px solid rgba(144,164,174,0.5);
            font-family: "Press Start 2P", system-ui;
        }

        @media (max-width: 800px) {
            .hero {
                grid-template-columns: 1fr;
            }

            .logo {
                font-size: 0.8rem;
            }

            .scoreboard {
                display: none;
            }
        }
    </style>
</head>
<body>
<header>
    <nav class="nav">
        <div class="logo">PAC<span>STORE</span></div>
        <div class="nav-right">
            <div class="scoreboard">
                SCORE&nbsp;000000&nbsp;&nbsp;HIGH&nbsp;000500
            </div>
            <div class="nav-buttons">
                <button onclick="scrollToSection('inicio')">Inicio</button>
                <button onclick="scrollToSection('retro')">Retro</button>
                <button onclick="scrollToSection('modernas')">Modernas</button>
                <button onclick="scrollToSection('ofertas')">Ofertas</button>
                <button onclick="scrollToSection('carrito')">Carrito</button>
            </div>
        </div>
    </nav>
</header>

<main>
    <!-- INICIO -->
    <section id="inicio">
        <div class="maze-line"></div>
        <div class="hero">
            <div class="hero-text">
                <h1>Consolas <span>Retro</span> y <span>Actuales</span> estilo Pac-Man</h1>
                <p>
                    Bienvenido a PacStore, un “laberinto” lleno de consolas míticas:
                    desde NES y SNES hasta PS5 y Xbox Series X. Explora sus
                    especificaciones, historia y precios con descuentos al puro estilo
                    arcade.
                </p>
                <div class="hero-badges">
                    <div class="badge">★ Descuentos hasta -40%</div>
                    <div class="badge">★ Consolas probadas y garantizadas</div>
                    <div class="badge">★ Inspirado en el clásico Pac-Man</div>
                </div>
                <div class="cta-buttons">
                    <button class="btn-primary" onclick="scrollToSection('ofertas')">Ver Ofertas de Hoy</button>
                    <button class="btn-secondary" onclick="scrollToSection('retro')">Ver Consolas Retro</button>
                </div>
            </div>
            <div class="hero-card">
                <div class="pacman-hero"></div>
                <h3>Pack Nostalgia Arcade</h3>
                <small>SNES + 2 controles + 3 cartuchos clásicos</small>
                <div class="price-line">
                    <span class="price-old">$320.00</span>
                    <span class="price-new">$249.99</span>
                    <span class="discount-tag">-22% OFF</span>
                </div>
                <p style="font-size: 0.8rem; color:#e0f2f1;">
                    Listo para conectar a tu TV, jugar en familia y sentir que estás
                    frente a una máquina arcade ochentera.
                </p>
                <button class="btn-small primary" onclick="agregarAlCarrito('Pack Nostalgia (SNES)', 249.99)">
                    Agregar al carrito
                </button>
            </div>
        </div>
    </section>

    <!-- RETRO -->
    <section id="retro">
        <div class="maze-line"></div>
        <h2>Consolas Retro</h2>
        <p>Los clásicos que empezaron todo. Piezas de colección para sumar “vidas extra” de nostalgia a tu setup.</p>
        <div class="grid-consolas">
            <!-- NES -->
            <article class="card" data-base-price="199.99" data-discount="15" id="card-nes">
                <div class="card-header">
                    <div>
                        <h3>NES – Nintendo Entertainment System</h3>
                        <span class="year">1983</span>
                    </div>
                    <span class="tag-retro">Retro</span>
                </div>
                <img class="console-img" src="img/nes.png" alt="Consola NES">
                <p class="specs">
                    8 bits · Cartuchos · Clásicos como Super Mario Bros., The Legend of
                    Zelda y Metroid. Una de las consolas que salvó la industria.
                </p>
                <div class="price-line">
                    <span class="price-old">$199.99</span>
                    <span class="price-new" id="price-nes">$169.99</span>
                    <span class="discount-tag">-15% incluido</span>
                </div>
                <p class="history" id="history-nes">
                    La NES redefinió el entretenimiento en casa y convirtió a Nintendo en
                    sinónimo de videojuegos. Su catálogo sigue siendo referencia de
                    diseño y jugabilidad.
                </p>
                <div class="card-footer">
                    <button class="btn-small outline" onclick="toggleHistory('history-nes')">
                        Historia
                    </button>
                    <button class="btn-small primary" onclick="aplicarDescuento('nes')">
                        Aplicar -15%
                    </button>
                    <div class="card-cta">
                        <span>Stock: 5 unidades</span>
                        <button class="btn-small primary" onclick="agregarAlCarrito('NES', getPrecioConsola('nes'))">
                            Añadir al carrito
                        </button>
                    </div>
                </div>
            </article>

            <!-- SNES -->
            <article class="card" data-base-price="249.99" data-discount="18" id="card-snes">
                <div class="card-header">
                    <div>
                        <h3>SNES – Super Nintendo</h3>
                        <span class="year">1990</span>
                    </div>
                    <span class="tag-retro">Retro</span>
                </div>
                <img class="console-img" src="img/snes.png" alt="Consola Super Nintendo">
                <p class="specs">
                    16 bits · Sonido espectacular · Joyas como Super Mario World,
                    Donkey Kong Country, Chrono Trigger y Street Fighter II.
                </p>
                <div class="price-line">
                    <span class="price-old">$249.99</span>
                    <span class="price-new" id="price-snes">$204.99</span>
                    <span class="discount-tag">-18% incluido</span>
                </div>
                <p class="history" id="history-snes">
                    Considerada por muchos como la reina de los 16 bits. Su catálogo
                    sigue siendo uno de los más queridos y rejugados del mundo.
                </p>
                <div class="card-footer">
                    <button class="btn-small outline" onclick="toggleHistory('history-snes')">
                        Historia
                    </button>
                    <button class="btn-small primary" onclick="aplicarDescuento('snes')">
                        Aplicar -18%
                    </button>
                    <div class="card-cta">
                        <span>Stock: 3 unidades</span>
                        <button class="btn-small primary" onclick="agregarAlCarrito('SNES', getPrecioConsola('snes'))">
                            Añadir al carrito
                        </button>
                    </div>
                </div>
            </article>

            <!-- PS1 -->
            <article class="card" data-base-price="189.99" data-discount="20" id="card-ps1">
                <div class="card-header">
                    <div>
                        <h3>PlayStation 1</h3>
                        <span class="year">1994</span>
                    </div>
                    <span class="tag-retro">Retro</span>
                </div>
                <img class="console-img" src="img/ps1.png" alt="Consola PlayStation 1">
                <p class="specs">
                    CD-ROM · Inició sagas como Resident Evil, Metal Gear Solid,
                    Final Fantasy VII y Gran Turismo. Revolución en 3D.
                </p>
                <div class="price-line">
                    <span class="price-old">$189.99</span>
                    <span class="price-new" id="price-ps1">$151.99</span>
                    <span class="discount-tag">-20% incluido</span>
                </div>
                <p class="history" id="history-ps1">
                    La PS1 colocó a Sony en lo más alto del gaming, con un catálogo
                    gigante y muy variado que marcó a toda una generación.
                </p>
                <div class="card-footer">
                    <button class="btn-small outline" onclick="toggleHistory('history-ps1')">
                        Historia
                    </button>
                    <button class="btn-small primary" onclick="aplicarDescuento('ps1')">
                        Aplicar -20%
                    </button>
                    <div class="card-cta">
                        <span>Stock: 4 unidades</span>
                        <button class="btn-small primary" onclick="agregarAlCarrito('PlayStation 1', getPrecioConsola('ps1'))">
                            Añadir al carrito
                        </button>
                    </div>
                </div>
            </article>
        </div>
    </section>

    <!-- MODERNAS -->
    <section id="modernas">
        <div class="maze-line"></div>
        <h2>Consolas Modernas</h2>
        <p>La nueva generación en potencia gráfica, pero con la vibra de estar jugando en un arcade de los 80.</p>
        <div class="grid-consolas">
            <!-- PS5 -->
            <article class="card" data-base-price="699.99" data-discount="10" id="card-ps5">
                <div class="card-header">
                    <div>
                        <h3>PlayStation 5</h3>
                        <span class="year">2020</span>
                    </div>
                    <span class="tag-modern">Actual</span>
                </div>
                <img class="console-img" src="img/ps5.png" alt="Consola PlayStation 5">
                <p class="specs">
                    CPU AMD Zen 2 · GPU RDNA 2 · SSD ultra rápido · 4K/120FPS · DualSense con
                    gatillos adaptativos y vibración háptica.
                </p>
                <div class="price-line">
                    <span class="price-old">$699.99</span>
                    <span class="price-new" id="price-ps5">$629.99</span>
                    <span class="discount-tag">-10% incluido</span>
                </div>
                <p class="history" id="history-ps5">
                    PS5 redefine la velocidad y la inmersión, con tiempos de carga mínimos y
                    experiencias exclusivas de nueva generación.
                </p>
                <div class="card-footer">
                    <button class="btn-small outline" onclick="toggleHistory('history-ps5')">
                        Historia
                    </button>
                    <button class="btn-small primary" onclick="aplicarDescuento('ps5')">
                        Aplicar -10%
                    </button>
                    <div class="card-cta">
                        <span>Stock: 6 unidades</span>
                        <button class="btn-small primary" onclick="agregarAlCarrito('PS5', getPrecioConsola('ps5'))">
                            Añadir al carrito
                        </button>
                    </div>
                </div>
            </article>

            <!-- Xbox Series X -->
            <article class="card" data-base-price="679.99" data-discount="12" id="card-xbox">
                <div class="card-header">
                    <div>
                        <h3>Xbox Series X</h3>
                        <span class="year">2020</span>
                    </div>
                    <span class="tag-modern">Actual</span>
                </div>
                <img class="console-img" src="img/xbox-series-x.png" alt="Consola Xbox Series X">
                <p class="specs">
                    CPU AMD Zen 2 · GPU 12 TFLOPS · SSD NVMe · 4K/120FPS · Game Pass y
                    retrocompatibilidad con varias generaciones.
                </p>
                <div class="price-line">
                    <span class="price-old">$679.99</span>
                    <span class="price-new" id="price-xbox">$598.39</span>
                    <span class="discount-tag">-12% incluido</span>
                </div>
                <p class="history" id="history-xbox">
                    Una de las consolas más potentes actuales, perfecta para quienes buscan
                    rendimiento y catálogo por suscripción.
                </p>
                <div class="card-footer">
                    <button class="btn-small outline" onclick="toggleHistory('history-xbox')">
                        Historia
                    </button>
                    <button class="btn-small primary" onclick="aplicarDescuento('xbox')">
                        Aplicar -12%
                    </button>
                    <div class="card-cta">
                        <span>Stock: 5 unidades</span>
                        <button class="btn-small primary" onclick="agregarAlCarrito('Xbox Series X', getPrecioConsola('xbox'))">
                            Añadir al carrito
                        </button>
                    </div>
                </div>
            </article>

            <!-- Nintendo Switch -->
            <article class="card" data-base-price="399.99" data-discount="8" id="card-switch">
                <div class="card-header">
                    <div>
                        <h3>Nintendo Switch</h3>
                        <span class="year">2017</span>
                    </div>
                    <span class="tag-modern">Actual</span>
                </div>
                <img class="console-img" src="img/switch.png" alt="Consola Nintendo Switch">
                <p class="specs">
                    Híbrida portátil/sobremesa · Joy-Con desmontables · Exclusivos como Zelda,
                    Mario, Pokémon y Splatoon.
                </p>
                <div class="price-line">
                    <span class="price-old">$399.99</span>
                    <span class="price-new" id="price-switch">$367.99</span>
                    <span class="discount-tag">-8% incluido</span>
                </div>
                <p class="history" id="history-switch">
                    Switch combinó lo mejor del juego portátil y de salón, logrando un éxito
                    mundial gracias a su formato y catálogo.
                </p>
                <div class="card-footer">
                    <button class="btn-small outline" onclick="toggleHistory('history-switch')">
                        Historia
                    </button>
                    <button class="btn-small primary" onclick="aplicarDescuento('switch')">
                        Aplicar -8%
                    </button>
                    <div class="card-cta">
                        <span>Stock: 7 unidades</span>
                        <button class="btn-small primary" onclick="agregarAlCarrito('Nintendo Switch', getPrecioConsola('switch'))">
                            Añadir al carrito
                        </button>
                    </div>
                </div>
            </article>
        </div>
    </section>

    <!-- OFERTAS / CALCULADORA -->
    <section id="ofertas">
        <div class="maze-line"></div>
        <h2>Calculadora de Descuento</h2>
        <p>
            Usa esta herramienta para simular ofertas especiales: ingresa un precio base,
            un porcentaje de descuento y el tipo de consola.
        </p>

        <form onsubmit="calcularOferta(event)">
            <div>
                <label for="precioBase">Precio base (USD)</label>
                <input type="number" id="precioBase" step="0.01" placeholder="Ej. 299.99">
            </div>
            <div>
                <label for="porcentajeDesc">Descuento (%)</label>
                <input type="number" id="porcentajeDesc" step="1" placeholder="Ej. 15">
            </div>
            <div>
                <label for="tipoConsola">Tipo de consola</label>
                <select id="tipoConsola">
                    <option value="Retro">Retro</option>
                    <option value="Moderna">Moderna</option>
                    <option value="Colección">Edición de colección</option>
                </select>
            </div>
            <div>
                <button type="submit" class="btn-primary">Calcular oferta</button>
            </div>
        </form>

        <div id="resultadoOferta" class="result-box"></div>
    </section>

    <!-- CARRITO -->
    <section id="carrito">
        <div class="maze-line"></div>
        <h2>Carrito de Compras</h2>
        <p>Consolas agregadas:</p>
        <ul id="listaCarrito">
            <!-- Items dinámicos -->
        </ul>
        <p id="resumenCarrito" style="margin-top:10px; font-size:0.85rem;">
            Total de artículos: <span id="totalItems">0</span> · Total a pagar:
            <span id="totalPagar">$0.00</span>
        </p>
        <div class="cta-buttons" style="margin-top:8px;">
            <button class="btn-secondary" onclick="vaciarCarrito()">Vaciar carrito</button>
            <button class="btn-primary" onclick="confirmarCompra()">Confirmar compra</button>
        </div>
    </section>

    <footer>
        PACSTORE · Catálogo estilo arcade · Precios y descuentos simulados · Insert coin to continue…
    </footer>
</main>

<script>
    // Scroll suave
    function scrollToSection(id) {
        const section = document.getElementById(id);
        if (section) {
            section.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
    }

    // Mostrar / ocultar historia
    function toggleHistory(id) {
        const p = document.getElementById(id);
        if (!p) return;
        p.style.display = (p.style.display === 'block') ? 'none' : 'block';
    }

    // Obtener precio actual desde span
    function getPrecioConsola(key) {
        const priceSpan = document.getElementById('price-' + key);
        if (!priceSpan) return 0;
        const texto = priceSpan.textContent.replace('$', '').trim();
        const valor = parseFloat(texto);
        return isNaN(valor) ? 0 : valor;
    }

    // Aplicar descuento según data-*
    function aplicarDescuento(key) {
        const card = document.getElementById('card-' + key);
        if (!card) return;
        const base = parseFloat(card.getAttribute('data-base-price'));
        const desc = parseFloat(card.getAttribute('data-discount'));
        if (isNaN(base) || isNaN(desc)) return;

        const precioFinal = base - (base * (desc / 100));
        const priceSpan = document.getElementById('price-' + key);
        if (priceSpan) {
            priceSpan.textContent = '$' + precioFinal.toFixed(2);
        }
        alert('Nuevo precio con descuento aplicado: $' + precioFinal.toFixed(2));
    }

    // Calculadora de ofertas
    function calcularOferta(event) {
        event.preventDefault();
        const precioBase = parseFloat(document.getElementById('precioBase').value);
        const porcentaje = parseFloat(document.getElementById('porcentajeDesc').value);
        const tipo = document.getElementById('tipoConsola').value;
        const res = document.getElementById('resultadoOferta');

        if (isNaN(precioBase) || isNaN(porcentaje)) {
            res.textContent = 'Por favor, ingresa un precio y un porcentaje válidos.';
            return;
        }

        const ahorro = precioBase * (porcentaje / 100);
        const total = precioBase - ahorro;

        res.innerHTML = `
            Tipo de consola: <strong>${tipo}</strong><br>
            Precio original: <strong>$${precioBase.toFixed(2)}</strong><br>
            Descuento aplicado: <strong>${porcentaje.toFixed(0)}% (-$${ahorro.toFixed(2)})</strong><br>
            Precio final de oferta: <strong>$${total.toFixed(2)}</strong>
        `;
    }

    // Carrito
    const carrito = [];

    function agregarAlCarrito(nombre, precio) {
        if (precio <= 0 || isNaN(precio)) {
            alert('No se pudo agregar: precio inválido.');
            return;
        }
        carrito.push({ nombre, precio });
        renderCarrito();
        alert(nombre + ' agregado al carrito por $' + precio.toFixed(2));
    }

    function renderCarrito() {
        const lista = document.getElementById('listaCarrito');
        const totalItemsSpan = document.getElementById('totalItems');
        const totalPagarSpan = document.getElementById('totalPagar');

        lista.innerHTML = '';
        let total = 0;
        carrito.forEach((item, index) => {
            total += item.precio;
            const li = document.createElement('li');
            li.textContent = (index + 1) + '. ' + item.nombre + ' — $' + item.precio.toFixed(2);
            lista.appendChild(li);
        });

        totalItemsSpan.textContent = carrito.length;
        totalPagarSpan.textContent = '$' + total.toFixed(2);
    }

    function vaciarCarrito() {
        carrito.length = 0;
        renderCarrito();
        alert('Carrito vaciado.');
    }

    function confirmarCompra() {
        if (carrito.length === 0) {
            alert('Tu carrito está vacío.');
            return;
        }
        const total = carrito.reduce((acc, item) => acc + item.precio, 0);
        alert('Compra confirmada.\nArtículos: ' + carrito.length + '\nTotal a pagar: $' + total.toFixed(2));
    }
</script>
</body>
</html>
